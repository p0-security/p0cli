// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`ssh ephemeral access should call p0 request with reason arg: args 1`] = `
{
  "_": [
    "ssh",
  ],
  "arguments": [
    "ssh",
    "session",
    "some-instance",
    "--provider",
    "aws",
    "--reason",
    "reason",
  ],
  "wait": true,
}
`;

exports[`ssh ephemeral access should not call ssm with non-interactive command: stderr 1`] = `
[
  [
    "a message",
  ],
  [
    "Will wait up to 5 minutes for this request to complete...",
  ],
  [
    "Your request was approved",
  ],
  [
    "Waiting for access to be provisioned",
  ],
]
`;

exports[`ssh ephemeral access should not call ssm with interactive session: stderr 1`] = `
[
  [
    "a message",
  ],
  [
    "Will wait up to 5 minutes for this request to complete...",
  ],
  [
    "Your request was approved",
  ],
  [
    "Waiting for access to be provisioned",
  ],
]
`;

exports[`ssh persistent access should call p0 request with reason arg: args 1`] = `
{
  "_": [
    "ssh",
  ],
  "arguments": [
    "ssh",
    "session",
    "some-instance",
    "--provider",
    "aws",
    "--reason",
    "reason",
  ],
  "wait": true,
}
`;

exports[`ssh persistent access should not call ssm with non-interactive command: stderr 1`] = `
[
  [
    "Waiting for access to be provisioned",
  ],
]
`;

exports[`ssh persistent access should not call ssm with interactive session: stderr 1`] = `
[
  [
    "Waiting for access to be provisioned",
  ],
]
`;
